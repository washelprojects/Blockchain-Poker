The blockchain is initialized upon a peer joining and the blocks are created among the winners of the round.  When a new peer joins the network, it retrieves the blockchain by contacting the tracker for a list of peers on the network and then retrieves the blockchain from another peer.  We use headers to determine the type of data that is received, which includes blocks, blockchains, and requests from a peer to retrieve a blockchain.

The P2P protocol involves the peer first contacting the tracker to retrieve the IP addresses of the peers on the network.  The peers then contact each other to retrieve the current blockchain.  Before a new round of poker is simulated, the peers receive the bets that other players make.  When a peer mines a new block, this block is added to the current player's blockchain, and then the blockchain is sent to the other peers in the network.

For our demo application, we simulated a game of poker.  When players join the network, they can enter their names.  At least two players must be ready on the network for the players to be able to place bets.  After all players on the network have placed bets, the game is simulated by each peer entering (y/n) for whether they won the game or not.  If only one player wins the game, that player mines a new block and adds this to the end of their blockchain, broadcasting the new blockchain to the rest of the players.  If two or more players win the round, then the winning player that is first on the list of all connections in the network mines a new block and adds this to their blockchain, broadcasting the new blockchain to the other players.  Upon receiving the updated blockchain, the next winner on the list then mines a new block and adds this to their blockchain, broadcasting the new blockchain to the other players.  This process is repeated until all winning players have mined a new block and updated their respective blockchains.  At the end of the round, the game asks if the player would like to play again or not (y/n).  If the chooses to play again, then the player is prompted to place a bet for the next round.  If the player chooses not to play again, then the player exits from the network, and the tracker list is updated from a timeout counter.
